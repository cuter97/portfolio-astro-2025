import{j as s}from"./jsx-runtime.D_zvdyIk.js";import{r as o}from"./index.CY-HDqYb.js";import{B as a}from"./button.BJ-frA1V.js";import"./utils.BdobHaEk.js";function g({children:r}){const[t,m]=o.useState(()=>{if(typeof window>"u")return"system";try{const e=localStorage.getItem("theme");if(e==="dark"||e==="theme-light")return e}catch{}return"system"}),[n,c]=o.useState(!1);o.useEffect(()=>{c(!0)},[]),o.useEffect(()=>{t==="dark"||t==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");try{t==="system"?localStorage.removeItem("theme"):localStorage.setItem("theme",t)}catch{}},[t]);const l=()=>{const e=t==="dark"?"theme-light":"dark";m(e)};return n?s.jsxs(a,{variant:"ghost",size:"icon",onClick:l,className:"mx-2",children:[r,s.jsx("span",{className:"sr-only",children:"Toggle theme"})]}):s.jsxs(a,{variant:"ghost",size:"icon",className:"mx-2",disabled:!0,children:[r,s.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}export{g as ModeToggle};
